(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{364:function(e,t,n){},366:function(e,t,n){},368:function(e,t,n){},370:function(e,t,n){},372:function(e,t,n){},374:function(e,t,n){},376:function(e,t,n){},378:function(e,t,n){},380:function(e,t,n){},382:function(e,t,n){},384:function(e,t,n){},386:function(e,t,n){},388:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(51),c=n.n(o),i=(n(66),n(6)),s=n(4),u=n(8),l=n(3),p=(n(68),n(393)),f=n(391),h=n(5),m=(n(70),function(e){var t=e.msg;return a.a.createElement("p",{className:"error-msg"},t)}),d=(n(72),function(e){var t=e.block,n=e.submit,o=e.cancel,c=t.errors;function i(e){if("paragraph"===e.type){var t=JSON.parse(JSON.stringify(e));return t.text=function(e){if(!e.links)return e.text;var t=[],n=0;e.links.forEach(function(r){var a=e.text.slice(n,r.position);a&&t.push(a),t.push("[".concat(r.description,"](").concat(r.url,")")),n=r.position});var r=e.text.slice(n,e.text.length);return r&&t.push(r),t.join("")}(e),t.links=[],t}return e}var s,p=Object(r.useState)(i(t)),f=Object(l.a)(p,2),d=f[0],v=f[1];function y(e){var t=e.target.id,n=Object(u.a)({},d,Object(h.a)({},t,e.target.value));v(n)}return Object(r.useEffect)(function(){v(i(t))},[t]),a.a.createElement("form",{className:"edit-block",onSubmit:function(e){if(e.preventDefault(),"paragraph"===d.type){var t=JSON.parse(JSON.stringify(d)),r=function(e){var t=e.split("]("),n=[],r=0;return t.forEach(function(e,a){var o=t[a-1];if(o&&-1!==o.indexOf("[")){var c=o.split("[");t[a-1]=c[0],r+=c[0].length,n.push({description:c[1]})}if(-1!==e.indexOf(")")){var i=e.split(")"),s=n.pop();s&&(s.url=i[0],s.position=r,n.push(s),t[a]=i[1])}}),{links:n,text:t.join("")}}(d.text);t.text=r.text,t.links=r.links,n(t)}else n(d)}},a.a.createElement("div",{className:"input-container"},"subtitle"===t.type&&a.a.createElement("input",{type:"text",value:d.text,onChange:y,id:"text",required:!0,className:"edit-block__input"}),"subtitle"!==t.type&&a.a.createElement("textarea",{className:"edit-block__textarea",rows:(s=d.text,s.split("\n").length),value:d.text,onChange:y,id:"text"}),a.a.createElement("div",{className:"type-area"},a.a.createElement("select",{name:"type",id:"type",value:d.type,onChange:y},a.a.createElement("option",{value:"paragraph"},"Paragraph"),a.a.createElement("option",{value:"subtitle"},"Subtitle"),a.a.createElement("option",{value:"code"},"Code")),"code"===t.type&&a.a.createElement("select",{name:"language",id:"language",value:d.language,onChange:y},a.a.createElement("option",{value:"html"},"HTML"),a.a.createElement("option",{value:"css"},"CSS"),a.a.createElement("option",{value:"javascript"},"JavaScript")))),a.a.createElement("div",{className:"button-container"},a.a.createElement("button",{type:"submit"},"Submit"),a.a.createElement("button",{type:"button",onClick:function(){v(t),o()}},"Cancel")),a.a.createElement("div",{className:"errors-container"},c&&c.map(function(e,t){return a.a.createElement(m,{key:t,msg:e.msg})})))}),v=(n(74),function(e){var t,n=e.block,o=e.edit,c=e.submit,i=e.remove,s=n.type,u=n.language,h=n.text,m=n.links,v=n.errors,y=Object(r.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=b||v&&0!==v.length;switch(s){case"paragraph":var x=function(e,t){var n=0;return t.map(function(e){return{text:'<a href="'.concat(e.url,'">').concat(e.description,"</a>"),pos:e.position}}).filter(function(e){return e.pos>=0}).sort(function(e,t){return e.pos-t.pos}).forEach(function(t){var r=t.pos+n,a=e.slice(0,r)+" ",o=" "+e.slice(r,e.length+1);e=a+t.text+o,n=n+t.text.length+2}),e}(h,m);t=a.a.createElement("p",{className:"block__p",dangerouslySetInnerHTML:{__html:x}});break;case"subtitle":t=a.a.createElement("h2",{className:"block__h2"},h);break;case"code":t=a.a.createElement("div",{className:"block__code"},a.a.createElement(p.a,{language:u,style:f.a},h));break;default:t=a.a.createElement(a.a.Fragment,null)}return a.a.createElement("div",{className:"block"},!w&&t,o&&!w&&a.a.createElement("div",{className:"block__edit-btns"},a.a.createElement("button",{type:"button",className:"block__button",onClick:function(){return E(!0)}},"Edit"),n._id&&a.a.createElement("button",{type:"button",className:"block__button--delete",onClick:function(){return i(n)}},"Delete")),w&&a.a.createElement(d,{block:n,submit:function(e){E(!1),c(e)},cancel:function(){return E(!1)},className:"edit-block"}))}),y=(n(364),function(e){var t=e.title,n=e.edit,o=e.submit,c=e.errors,i=Object(r.useState)(0!==c.length),s=Object(l.a)(i,2),u=s[0],p=s[1],f=Object(r.useState)(t),h=Object(l.a)(f,2),d=h[0],v=h[1];return Object(r.useEffect)(function(){v(t),p(0!==c.length)},[t,c]),a.a.createElement("div",{className:"post-title"},!u&&a.a.createElement("h1",{className:"post-title__title"},t),!u&&n&&a.a.createElement("button",{type:"button",className:"post-title__btn-edit",onClick:function(){return p(!0)}},"Edit"),u&&a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(!1),o(d)},className:"post-title__form"},a.a.createElement("input",{type:"text",value:d,onChange:function(e){v(e.target.value)},required:!0}),a.a.createElement("button",{type:"submit"},"Submit"),0===c.length&&a.a.createElement("button",{type:"button",onClick:function(){v(t),p(!1)}},"Cancel"),a.a.createElement("div",{className:"post-title__errors"},c.map(function(e,t){return a.a.createElement(m,{key:t,msg:e.msg})})))))}),g=n(56),b=(n(366),function(e){var t=e.author,n=Object(g.a)(e,["author"]),r=t.username,o=t.name,c=t.jobTitle,i=t.bio;return a.a.createElement("article",n,a.a.createElement("h1",null,o||r),a.a.createElement("h2",null,c),a.a.createElement("p",null,i))});function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new k(a||[]);return r(c,"_invoke",{value:x(e,n,i)}),c}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&n.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,i)})}i(s.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=O(c,n);if(i){if(i===p)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,c,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(g),s(g,i,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var w="https://blog-api.alexerdei.co.uk";function x(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(E().mark(function e(t){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=4;break}n={success:!1,errors:[{msg:"Unauthorized"}]},e.next=7;break;case 4:return e.next=6,t.json();case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(E().mark(function e(t,n){var r,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return J.apply(this,arguments)}function J(){return(J=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks/").concat(t._id),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n}});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(s.a)(E().mark(function e(){var t,n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts"),{mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t._id),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n}});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(E().mark(function e(t){var n,r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t){return q.apply(this,arguments)}function q(){return(q=Object(s.a)(E().mark(function e(t,n){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:n},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,x(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(E().mark(function e(t,n){var r,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t,"/likes"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}n(368);function H(){H=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&n.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,i)})}i(s.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=x(c,n);if(i){if(i===p)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),s(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(u(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(g),s(g,i,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var M=function(e){var t=e.post,n=e.submit,o=e.updateBlock,c=e.errors,i=e.setPost,u=e.token,p=e.edit,f=t._id,h=t.title,m=t.author,d=t.content,g={text:"New Block",type:"paragraph",links:[],language:" ",post:"",errors:[]},E=Object(r.useState)(g),w=Object(l.a)(E,2),x=w[0],O=w[1];function _(){return(_=Object(s.a)(H().mark(function e(n){var r,a,o;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=JSON.parse(JSON.stringify(n))).post=f,a=JSON.parse(JSON.stringify(t)),e.prev=3,e.next=6,T(r,u);case 6:(o=e.sent).success?(a.content.push(o.block),O(g),r.errors=[]):r.errors=o.errors,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r.errors=[{msg:e.t0.message}];case 13:return e.prev=13,0!==r.errors.length&&O(r),i(a),e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,10,13,17]])}))).apply(this,arguments)}function j(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(H().mark(function e(n){var r,a,o,c;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=JSON.parse(JSON.stringify(n))).post=f,a=JSON.parse(JSON.stringify(t)),o=a.content.findIndex(function(e){return e._id===r._id}),e.prev=4,e.next=7,P(r,u);case 7:(c=e.sent).success?a.content.splice(o,1):r.errors=c.errors,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.errors=[{msg:e.t0.message}];case 14:return e.prev=14,r.errors&&0!==r.errors.length&&(a.content[o]=r),i(a),e.finish(14);case 18:case"end":return e.stop()}},e,null,[[4,11,14,18]])}))).apply(this,arguments)}return a.a.createElement("div",{className:"post"},a.a.createElement(b,{author:m,className:"author"}),a.a.createElement("article",null,a.a.createElement(y,{title:h,edit:p,submit:n,errors:c}),d.map(function(e){return a.a.createElement(v,{key:e._id,block:e,edit:p,submit:o,remove:j})}),p&&a.a.createElement(v,{key:"new-block",block:x,edit:p,submit:function(e){return _.apply(this,arguments)}})))},V=(n(370),n(9)),K=function(e){var t=e.loginSuccess;return a.a.createElement("nav",{className:"nav"},a.a.createElement("ul",null,a.a.createElement("li",{className:"nav__logo"},a.a.createElement(V.b,{to:"/"},"Alex73 DEV")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/about"},"About")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/"},"Home")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/post"},"Post")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/login"},"Login")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/signup"},t?"User":"Sign Up"))))},W=n(0),Q=function(e){var t=e.post;return a.a.createElement(M,{post:t,edit:!1,errors:[]})},X=(n(372),n(374),function(e){var t=e.variant,n=e.headerTextLeft,r=e.headerTextRight,o=e.footerTextLeft,c=e.footerTextRight,i=e.children;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card__header ".concat(t&&t)},a.a.createElement("div",null,n),a.a.createElement("div",null,r)),i,a.a.createElement("div",{className:"card__footer ".concat(t&&"footer-".concat(t))},a.a.createElement("div",null,o),a.a.createElement("div",null,c)))}),Z=(n(376),function(e){var t=e.post,n=e.onClick,r=e.edit,o=e.open,c=e.publish,i=e.user,s=e.like,u=t.title,l=t.author,p=t.createdAt,f=t.updatedAt,h=t.likes,m=!!i&&i.isAdmin,d=!!i&&-1!==h.indexOf(i._id);return a.a.createElement(X,{headerTextLeft:"By ".concat(l.username),headerTextRight:"Likes: ".concat(h.length),footerTextLeft:"Created:".concat(p&&p.slice(0,10)),footerTextRight:"Updated:".concat(f&&f.slice(0,10))},a.a.createElement("div",{className:"post-card__body"},a.a.createElement("div",{className:"post-card__title"},a.a.createElement("h2",null,u)),a.a.createElement("div",{className:"post-card__button-container"},a.a.createElement("button",{className:"post-card__button",onClick:function(){return n(t)}},"View"),!r&&i&&i._id&&a.a.createElement("button",{className:"post-card__button",onClick:function(){return s(t._id,i._id)}},d?"Unlike":"Like"),r&&a.a.createElement("button",{className:"post-card__button",onClick:function(){return c(t)}},t.published?"Hide":"Publish"),(r||m)&&a.a.createElement("button",{className:"post-card__button--delete-lg",onClick:o},"Delete"))))}),$=(n(378),function(e){var t=e.posts,n=e.setIndex,o=e.edit,c=e.open,i=e.publish,s=e.user,u=e.like,p=Object(W.m)(),f=Object(r.useState)(-1),h=Object(l.a)(f,2),m=h[0],d=h[1];function v(e){return t.findIndex(function(t){return t._id===e._id})}function y(e){d(v(e))}return Object(r.useEffect)(function(){-1!==m&&(n(m),p("/post"))},[m]),a.a.createElement("div",{className:"posts-view"},t.map(function(e){return(e.published||o)&&a.a.createElement(Z,{key:e._id,post:e,onClick:y,edit:o,open:function(){n(v(e)),c()},publish:i,user:s,like:u})}))}),ee=function(e){var t=e.posts,n=e.setIndex,r=e.open,o=e.user,c=e.like;return a.a.createElement("div",{className:"posts"},a.a.createElement("h1",{className:"posts__title"},"Posts"),a.a.createElement($,{posts:t,setIndex:n,open:r,user:o,like:c}))},te=(n(380),function(e){var t=e.submit,n=e.loginState,o=e.setLoginState,c=e.posts,i=e.logout,s=e.setPostIndex,u=e.setEdit,p=e.open,f=e.publish,h=n.user,d=n.msg,v=Object(r.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1];function E(e){var t=e.target.id,r=JSON.parse(JSON.stringify(n));r.user[t]=e.target.value,o(r)}return Object(r.useEffect)(function(){if(n.success){var e=c.filter(function(e){return e.author.username===n.user.username});b(e)}},[n,c]),n.success?a.a.createElement("div",{className:"logout"},a.a.createElement("h1",{className:"logout__title"},"Welcome ",h.username,"!"),a.a.createElement($,{posts:g,setIndex:function(e){var t=c.findIndex(function(t){return t._id===g[e]._id});s(t),u(!0)},edit:!0,open:p,publish:f}),a.a.createElement(V.b,{to:"/new-post",className:"logout__button--link"},"New Post"),a.a.createElement("p",null,"You are currently logged in."),a.a.createElement("button",{type:"button",onClick:i,className:"logout__button"},"Logout")):a.a.createElement("form",{className:"login",onSubmit:function(e){e.preventDefault(),t(n.user)},validate:"true"},a.a.createElement("h1",{className:"login__title"},"Login"),a.a.createElement("label",{htmlFor:"username"},"Username*"),a.a.createElement("input",{type:"text",id:"username",className:"login__username",onChange:E,value:h.username,required:!0}),a.a.createElement("label",{htmlFor:"password"},"Password*"),a.a.createElement("input",{type:"text",id:"password",className:"login__password",onChange:E,value:h.password,required:!0}),a.a.createElement("button",{type:"submit",className:"login__button"},"Login"),d&&a.a.createElement(m,{msg:d}))}),ne=(n(382),function(e){var t=e.loginState,n=e.submit,o=e.update,c=e.response,i=e.deleteErrors,s=t.user,p=t.success,f=c.success,d=c.errors,v=Object(r.useState)(s),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(r.useEffect)(function(){return function(){return i()}},[]);var E=Object(W.m)();function w(e){var t=e.target,n=Object(u.a)({},g,Object(h.a)({},t.id,t.value));b(n)}return Object(r.useEffect)(function(){f&&E("/login")},[f]),a.a.createElement("form",{className:"signup",onSubmit:function(e){e.preventDefault(),p?o(g):n(g)},validate:"true"},a.a.createElement("h1",{className:"signup__title"},p?"Update User":"Sign Up"),a.a.createElement("label",{htmlFor:"username"},"Username*"),a.a.createElement("input",{type:"text",id:"username",className:"signup__username",onChange:w,value:g.username,required:!0}),!p&&a.a.createElement("label",{htmlFor:"password"},"Password*"),!p&&a.a.createElement("input",{type:"text",id:"password",className:"signup__password",onChange:w,value:g.password,required:!0}),a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement("input",{type:"text",id:"name",className:"signup__name",onChange:w,value:g.name}),a.a.createElement("label",{htmlFor:"jobTitle"},"Job Title"),a.a.createElement("input",{type:"text",id:"jobTitle",className:"signup__job-title",onChange:w,value:g.jobTitle}),a.a.createElement("label",{htmlFor:"bio"},"Bio"),a.a.createElement("textarea",{name:"bio",id:"bio",cols:"30",rows:"10",className:"submit_bio",onChange:w,value:g.bio}),a.a.createElement("button",{type:"submit",className:"signup__button"},"Submit"),d&&0!==d.length&&d.map(function(e,t){return a.a.createElement(m,{msg:e.msg,key:t})}))}),re=(n(384),function(e){var t=e.submit,n=e.response,o=e.deleteResponse,c=n.post,i=n.errors,s=Object(r.useState)(c.title),u=Object(l.a)(s,2),p=u[0],f=u[1],h=Object(W.m)();return Object(r.useEffect)(function(){n.success?(o(),h("/login")):f(n.post.title)},[n]),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:p})},className:"new-post"},a.a.createElement("h1",{className:"new-post__title"},"New Post"),a.a.createElement("label",{htmlFor:"title"},"Title*"),a.a.createElement("input",{type:"text",id:"title",required:!0,onChange:function(e){f(e.target.value)},value:p}),a.a.createElement("button",{type:"submit"},"Submit"),i.length>0&&a.a.createElement(m,{msg:i[0].msg}))}),ae=(n(386),function(e){var t=e.show,n=e.variant,r=e.header,o=e.footer,c=e.children;return a.a.createElement("div",{className:"modal ".concat(t&&"show")},a.a.createElement(X,{variant:n,headerTextLeft:r,footerTextLeft:o},c))}),oe=function(e){var t=e.open,n=e.close,r=e.error;return a.a.createElement(ae,{variant:"danger",header:"Error!",footer:"Sorry, but it happens sometimes",show:t},a.a.createElement("div",{className:"modal-body"},a.a.createElement(m,{msg:r.msg}),a.a.createElement("div",{className:"modal-body__button-container"},a.a.createElement("button",{className:"modal-body__button",onClick:n},"OK"))))};function ce(){ce=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new j(a||[]);return r(c,"_invoke",{value:w(e,n,i)}),c}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&n.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function c(){return new t(function(a,c){!function r(a,o,c,i){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return r("throw",e,c,i)})}i(s.arg)}(r,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=x(c,n);if(i){if(i===p)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),s(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(u(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(g),s(g,i,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;_(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var ie=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),p=Object(l.a)(c,2),f=p[0],h=p[1],d=Object(r.useState)(0),v=Object(l.a)(d,2),y=v[0],g=v[1],b=Object(r.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(r.useState)([{title:"...Loading",author:{username:"...Loading"},content:[]}]),j=Object(l.a)(O,2),N=j[0],L=j[1],T=Object(r.useState)({title:"...Loading",author:{username:"...Loading"},content:[]}),C=Object(l.a)(T,2),P=C[0],J=C[1],G=Object(r.useState)([]),D=Object(l.a)(G,2),z=D[0],q=D[1],R=Object(r.useState)({success:!1,user:{username:"",password:"",isAdmin:!1,name:"",jobTitle:"",bio:""},token:"",msg:""}),H=Object(l.a)(R,2),X=H[0],Z=H[1],$={success:!1,type:"POST",post:{author:"",title:""},errors:[]},ie=Object(r.useState)($),se=Object(l.a)(ie,2),ue=se[0],le=se[1],pe=Object(r.useState)({msg:""}),fe=Object(l.a)(pe,2),he=fe[0],me=fe[1],de=Object(r.useState)({success:!1,errors:[]}),ve=Object(l.a)(de,2),ye=ve[0],ge=ve[1];function be(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(s.a)(ce().mark(function e(t){var n,r,a,o,c;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.prev=1,e.next=4,_(n,r);case 4:a=e.sent,(o=JSON.parse(JSON.stringify(X))).success=a.success,o.msg=a.msg,o.token=a.token,a.success&&(o.user=Object(u.a)({},a.user),o.user.password="",localStorage.setItem("loginState",JSON.stringify(o))),Z(o),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),(c=Object(u.a)({},X)).msg=e.t0.message,Z(c);case 19:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function we(e){var t=JSON.parse(JSON.stringify(N));t.forEach(function(t){t.author._id===e._id&&(t.author=e)}),L(t)}function xe(e,t){e._id="",e.isAdmin=!1,Z({success:!1,user:e,errors:[]}),ge({success:!1,errors:t})}function Oe(){return(Oe=Object(s.a)(ce().mark(function e(t){var n;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:n=e.sent,je(),n.success?(ge(n),be(t)):xe(t,n.errors),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),xe(t,[{msg:e.t0.message}]);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function _e(){return(_e=Object(s.a)(ce().mark(function e(t){var n,r;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t,X.token);case 3:n=e.sent,ge(n),n.success&&(we(t),(r=JSON.parse(JSON.stringify(X))).user=t,Z(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ge({success:!1,errors:[{msg:e.t0.message}]});case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function je(){localStorage.removeItem("loginState"),Z({success:!1,user:{_id:"",username:"",password:""},token:"",msg:""})}function ke(){return(ke=Object(s.a)(ce().mark(function e(t){var n,r,a;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)(N),(r=Object(u.a)({},n[y])).title=t,n[y]=r,L(n),e.prev=5,e.next=8,k(r,X.token);case 8:a=e.sent,q(a.errors),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),q([{msg:e.t0.message}]);case 15:case"end":return e.stop()}},e,null,[[5,12]])}))).apply(this,arguments)}function Ne(){return(Ne=Object(s.a)(ce().mark(function e(t){var n,r,a,o;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(JSON.stringify(N)),r=Object(u.a)({},n[y]),a=r.content.findIndex(function(e){return e._id===t._id}),r.content[a]=Object(u.a)({},t),e.prev=4,e.next=7,S(t,X.token);case 7:o=e.sent,r.content[a].errors=o.errors,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.content[a].errors=[{msg:e.t0.message}];case 14:return e.prev=14,L(n),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[4,11,14,17]])}))).apply(this,arguments)}function Se(){return(Se=Object(s.a)(ce().mark(function e(t){var n;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.author=X.user._id,e.prev=1,e.next=4,I(t,X.token);case 4:(n=e.sent).post||(n.post=t),le(Object(u.a)({},n,{type:"POST"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),le({success:!1,type:"POST",post:t,errors:[{msg:e.t0.message}]});case 12:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Le(){return(Le=Object(s.a)(ce().mark(function e(t){var n;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t,X.token);case 3:n=e.sent,le(Object(u.a)({},n,{post:t,type:"DELETE"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),le({success:!1,type:"DELETE",post:t,errors:[{msg:e.t0.message}]});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Te(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(s.a)(ce().mark(function e(t){var n,r;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.published=!t.published,e.prev=1,e.next=4,k(t,X.token);case 4:if(!(n=e.sent).success){e.next=12;break}(r=JSON.parse(JSON.stringify(N))).find(function(e){return e._id===t._id}).published=t.published,L(r),e.next=13;break;case 12:throw new Error(n.errors[0].msg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),Ge({msg:e.t0.message});case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}function Pe(){return(Pe=Object(s.a)(ce().mark(function e(t,n){var r,a,o,c;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,n);case 3:if(!(r=e.sent).success){e.next=13;break}a=JSON.parse(JSON.stringify(N)),o=a.find(function(e){return e._id===t}),-1!==(c=o.likes.indexOf(n))?o.likes.splice(c,1):o.likes.push(n),L(a),e.next=14;break;case 13:throw new Error(r.errors[0].msg);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Ge({msg:e.t0.message});case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function Je(){le($)}function Fe(){o(!0)}function Ie(){o(!1)}function Ge(e){me(e),h(!0)}return Object(r.useEffect)(function(){(function(){return F.apply(this,arguments)})().then(function(e){L(e.posts)}).catch(function(e){console.error(e.message),Ge({msg:e.message})});var e=JSON.parse(localStorage.getItem("loginState"));e&&Z(e)},[]),Object(r.useEffect)(function(){var e=ue.success,t=ue.type,n=ue.post,r=ue.errors;if(""!==n.author||""!==n.title||0!==r.length){if("POST"===t&&e){var a=JSON.parse(JSON.stringify(N));n.author=Object(u.a)({},X.user),a.push(n),L(a),g(a.length-1)}if("DELETE"===t&&e){var o=JSON.parse(JSON.stringify(N));o.splice(y,1),L(o),g(o.findIndex(function(e){return"64b3b9fc11a583b26b48b476"===e._id})),Je(),Ie()}}},[ue]),Object(r.useEffect)(function(){var e=N.find(function(e){return"64b3b9fc11a583b26b48b476"===e._id});e&&J(e)},[N]),Object(r.useEffect)(function(){g(N.findIndex(function(e){return e._id===P._id}))},[P]),a.a.createElement("div",{className:"App"},a.a.createElement(V.a,{basename:"/my-dev-website"},a.a.createElement(K,{loginSuccess:X.success}),a.a.createElement(W.c,null,a.a.createElement(W.a,{path:"/post",element:a.a.createElement(M,{post:N[y],submit:function(e){return ke.apply(this,arguments)},updateBlock:function(e){return Ne.apply(this,arguments)},errors:z,setPost:function(e){var t=Object(i.a)(N);t[y]=e,L(t)},token:X.token,edit:w&&X.user.username===N[y].author.username})}),a.a.createElement(W.a,{path:"/about",element:a.a.createElement(Q,{post:P})}),a.a.createElement(W.a,{path:"/",element:a.a.createElement(ee,{posts:N,setIndex:function(e){g(e),x(!1)},user:X.user,open:Fe,publish:Te,like:function(e,t){return Pe.apply(this,arguments)}})}),a.a.createElement(W.a,{path:"/login",element:a.a.createElement(te,{submit:be,loginState:X,setLoginState:Z,logout:je,posts:N,setPostIndex:g,setEdit:x,open:Fe,publish:Te})}),a.a.createElement(W.a,{path:"/signup",element:a.a.createElement(ne,{loginState:X,submit:function(e){return Oe.apply(this,arguments)},update:function(e){return _e.apply(this,arguments)},response:ye,deleteErrors:function(){ge({success:!1,errors:[]})}})}),a.a.createElement(W.a,{path:"/new-post",element:a.a.createElement(re,{submit:function(e){return Se.apply(this,arguments)},response:ue,deleteResponse:Je})}))),a.a.createElement(ae,{show:n,variant:"danger",header:"Danger!",footer:"Permanent data loss"},a.a.createElement("div",{className:"modal-body"},0===ue.errors.length&&a.a.createElement("p",null,"You are going to delete the post permanently. Are you sure?"),0!==ue.errors.length&&a.a.createElement(m,{msg:ue.errors[0].msg}),a.a.createElement("div",{className:"modal-body__button-container"},a.a.createElement("button",{type:"button",onClick:function(){return function(e){return Le.apply(this,arguments)}(N[y])},className:"modal-body__button--delete"},"Delete"),a.a.createElement("button",{type:"button",onClick:function(){Je(),Ie()},className:"modal-body__button"},"Cancel")))),a.a.createElement(oe,{open:f,close:function(){me({msg:""}),h(!1)},error:he}))},se=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,392)).then(function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ie,null))),se()},57:function(e,t,n){e.exports=n(388)},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){}},[[57,3,2]]]);
//# sourceMappingURL=main.3212012c.chunk.js.map