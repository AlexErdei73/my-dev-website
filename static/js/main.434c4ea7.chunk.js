(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{364:function(e,t,r){},366:function(e,t,r){},368:function(e,t,r){},370:function(e,t,r){},372:function(e,t,r){},374:function(e,t,r){},376:function(e,t,r){},378:function(e,t,r){},380:function(e,t,r){},382:function(e,t,r){},384:function(e,t,r){},386:function(e,t,r){},388:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(51),i=r.n(o),c=(r(66),r(6)),s=r(4),u=r(8),l=r(3),p=(r(68),r(393)),f=r(391),h=r(5),m=(r(70),function(e){var t=e.msg;return a.a.createElement("p",{className:"error-msg"},t)}),d=(r(72),function(e){var t=e.block,r=e.submit,o=e.cancel,i=t.errors;function c(e){if("paragraph"===e.type){var t=JSON.parse(JSON.stringify(e));return t.text=function(e){if(!e.links)return e.text;var t=[],r=0;e.links.forEach(function(n){var a=e.text.slice(r,n.position);a&&t.push(a),t.push("[".concat(n.description,"](").concat(n.url,")")),r=n.position});var n=e.text.slice(r,e.text.length);return n&&t.push(n),t.join("")}(e),t.links=[],t}return e}var s,p=Object(n.useState)(c(t)),f=Object(l.a)(p,2),d=f[0],v=f[1];function y(e){var t=e.target.id,r=Object(u.a)({},d,Object(h.a)({},t,e.target.value));v(r)}return Object(n.useEffect)(function(){v(c(t))},[t]),a.a.createElement("form",{className:"edit-block",onSubmit:function(e){if(e.preventDefault(),"paragraph"===d.type){var t=JSON.parse(JSON.stringify(d)),n=function(e){var t=e.split("]("),r=[],n=0;return t.forEach(function(e,a){var o=t[a-1];if(o&&-1!==o.indexOf("[")){var i=o.split("[");t[a-1]=i[0],n+=i[0].length,r.push({description:i[1]})}if(-1!==e.indexOf(")")){var c=e.split(")"),s=r.pop();s&&(s.url=c[0],s.position=n,r.push(s),t[a]=c[1])}}),{links:r,text:t.join("")}}(d.text);t.text=n.text,t.links=n.links,r(t)}else r(d)}},a.a.createElement("div",{className:"input-container"},"subtitle"===t.type&&a.a.createElement("input",{type:"text",value:d.text,onChange:y,id:"text",required:!0,className:"edit-block__input"}),"subtitle"!==t.type&&a.a.createElement("textarea",{className:"edit-block__textarea",rows:(s=d.text,s.split("\n").length),value:d.text,onChange:y,id:"text"}),a.a.createElement("div",{className:"type-area"},a.a.createElement("select",{name:"type",id:"type",value:d.type,onChange:y},a.a.createElement("option",{value:"paragraph"},"Paragraph"),a.a.createElement("option",{value:"subtitle"},"Subtitle"),a.a.createElement("option",{value:"code"},"Code")),"code"===t.type&&a.a.createElement("select",{name:"language",id:"language",value:d.language,onChange:y},a.a.createElement("option",{value:"html"},"HTML"),a.a.createElement("option",{value:"css"},"CSS"),a.a.createElement("option",{value:"javascript"},"JavaScript")))),a.a.createElement("div",{className:"button-container"},a.a.createElement("button",{type:"submit"},"Submit"),a.a.createElement("button",{type:"button",onClick:function(){v(t),o()}},"Cancel")),a.a.createElement("div",{className:"errors-container"},i&&i.map(function(e,t){return a.a.createElement(m,{key:t,msg:e.msg})})))}),v=(r(74),function(e){var t,r=e.block,o=e.edit,i=e.submit,c=e.remove,s=r.type,u=r.language,h=r.text,m=r.links,v=r.errors,y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=b||v&&0!==v.length;switch(s){case"paragraph":var x=function(e,t){var r=0;return t.map(function(e){return{text:'<a href="'.concat(e.url,'">').concat(e.description,"</a>"),pos:e.position}}).filter(function(e){return e.pos>=0}).sort(function(e,t){return e.pos-t.pos}).forEach(function(t){var n=t.pos+r,a=e.slice(0,n)+" ",o=" "+e.slice(n,e.length+1);e=a+t.text+o,r=r+t.text.length+2}),e}(h,m);t=a.a.createElement("p",{className:"block__p",dangerouslySetInnerHTML:{__html:x}});break;case"subtitle":t=a.a.createElement("h2",{className:"block__h2"},h);break;case"code":t=a.a.createElement("div",{className:"block__code"},a.a.createElement(p.a,{language:u,style:f.a},h));break;default:t=a.a.createElement(a.a.Fragment,null)}return a.a.createElement("div",{className:"block"},!w&&t,o&&!w&&a.a.createElement("div",{className:"block__edit-btns"},a.a.createElement("button",{type:"button",className:"block__button",onClick:function(){return E(!0)}},"Edit"),r._id&&a.a.createElement("button",{type:"button",className:"block__button--delete",onClick:function(){return c(r)}},"Delete")),w&&a.a.createElement(d,{block:r,submit:function(e){E(!1),i(e)},cancel:function(){return E(!1)},className:"edit-block"}))}),y=(r(364),function(e){var t=e.title,r=e.edit,o=e.submit,i=e.errors,c=Object(n.useState)(0!==i.length),s=Object(l.a)(c,2),u=s[0],p=s[1],f=Object(n.useState)(t),h=Object(l.a)(f,2),d=h[0],v=h[1];return Object(n.useEffect)(function(){v(t),p(0!==i.length)},[t,i]),a.a.createElement("div",{className:"post-title"},!u&&a.a.createElement("h1",{className:"post-title__title"},t),!u&&r&&a.a.createElement("button",{type:"button",className:"post-title__btn-edit",onClick:function(){return p(!0)}},"Edit"),u&&a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(!1),o(d)},className:"post-title__form"},a.a.createElement("input",{type:"text",value:d,onChange:function(e){v(e.target.value)},required:!0}),a.a.createElement("button",{type:"submit"},"Submit"),0===i.length&&a.a.createElement("button",{type:"button",onClick:function(){v(t),p(!1)}},"Cancel"),a.a.createElement("div",{className:"post-title__errors"},i.map(function(e,t){return a.a.createElement(m,{key:t,msg:e.msg})})))))}),g=r(56),b=(r(366),function(e){var t=e.author,r=Object(g.a)(e,["author"]),n=t.username,o=t.name,i=t.jobTitle,c=t.bio;return a.a.createElement("article",r,a.a.createElement("h1",null,o||n),a.a.createElement("h2",null,i),a.a.createElement("p",null,c))});function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:x(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function x(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=O(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),s(g,c,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var w="https://radiant-crag-39178.herokuapp.com";function x(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(E().mark(function e(t){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=4;break}r={success:!1,errors:[{msg:t.statusText}]},e.next=7;break;case 4:return e.next=6,t.json();case 6:r=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(E().mark(function e(t,r){var n,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return J.apply(this,arguments)}function J(){return(J=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks/").concat(t._id),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r}});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(s.a)(E().mark(function e(){var t,r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts"),{mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t._id),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r}});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(s.a)(E().mark(function e(t){var r,n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e,t){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(E().mark(function e(t,r){var n,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t,"/likes"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:r})});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}r(368);function H(){H=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),s(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),s(g,c,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var M=function(e){var t=e.post,r=e.submit,o=e.updateBlock,i=e.errors,c=e.setPost,u=e.token,p=e.edit,f=t._id,h=t.title,m=t.author,d=t.content,g={text:"New Block",type:"paragraph",links:[],language:" ",post:"",errors:[]},E=Object(n.useState)(g),w=Object(l.a)(E,2),x=w[0],O=w[1];function _(){return(_=Object(s.a)(H().mark(function e(r){var n,a,o;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=JSON.parse(JSON.stringify(r))).post=f,a=JSON.parse(JSON.stringify(t)),e.prev=3,e.next=6,T(n,u);case 6:(o=e.sent).success?(a.content.push(o.block),O(g),n.errors=[]):n.errors=o.errors,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n.errors=[{msg:e.t0.message}];case 13:return e.prev=13,0!==n.errors.length&&O(n),c(a),e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,10,13,17]])}))).apply(this,arguments)}function j(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(H().mark(function e(r){var n,a,o,i;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=JSON.parse(JSON.stringify(r))).post=f,a=JSON.parse(JSON.stringify(t)),o=a.content.findIndex(function(e){return e._id===n._id}),e.prev=4,e.next=7,P(n,u);case 7:(i=e.sent).success?a.content.splice(o,1):n.errors=i.errors,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.errors=[{msg:e.t0.message}];case 14:return e.prev=14,n.errors&&0!==n.errors.length&&(a.content[o]=n),c(a),e.finish(14);case 18:case"end":return e.stop()}},e,null,[[4,11,14,18]])}))).apply(this,arguments)}return a.a.createElement("div",{className:"post"},a.a.createElement(b,{author:m,className:"author"}),a.a.createElement("article",null,a.a.createElement(y,{title:h,edit:p,submit:r,errors:i}),d.map(function(e){return a.a.createElement(v,{key:e._id,block:e,edit:p,submit:o,remove:j})}),p&&a.a.createElement(v,{key:"new-block",block:x,edit:p,submit:function(e){return _.apply(this,arguments)}})))},V=(r(370),r(9)),K=function(e){var t=e.loginSuccess;return a.a.createElement("nav",{className:"nav"},a.a.createElement("ul",null,a.a.createElement("li",{className:"nav__logo"},a.a.createElement(V.b,{to:"/my-dev-website/"},"Alex73 DEV")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/my-dev-website/about"},"About")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/my-dev-website/"},"Home")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/my-dev-website/post"},"Post")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/my-dev-website/login"},"Login")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/my-dev-website/signup"},t?"User":"Sign Up"))))},W=r(0),Q=function(e){var t=e.post;return a.a.createElement(M,{post:t,edit:!1,errors:[]})},X=(r(372),r(374),function(e){var t=e.variant,r=e.headerTextLeft,n=e.headerTextRight,o=e.footerTextLeft,i=e.footerTextRight,c=e.children;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card__header ".concat(t&&t)},a.a.createElement("div",null,r),a.a.createElement("div",null,n)),c,a.a.createElement("div",{className:"card__footer ".concat(t&&"footer-".concat(t))},a.a.createElement("div",null,o),a.a.createElement("div",null,i)))}),Z=(r(376),function(e){var t=e.post,r=e.onClick,n=e.edit,o=e.open,i=e.publish,c=e.user,s=e.like,u=t.title,l=t.author,p=t.createdAt,f=t.updatedAt,h=t.likes,m=!!c&&c.isAdmin,d=!!c&&-1!==h.indexOf(c._id);return a.a.createElement(X,{headerTextLeft:"By ".concat(l.username),headerTextRight:"Likes: ".concat(h.length),footerTextLeft:"Created:".concat(p&&p.slice(0,10)),footerTextRight:"Updated:".concat(f&&f.slice(0,10))},a.a.createElement("div",{className:"post-card__body"},a.a.createElement("div",{className:"post-card__title"},a.a.createElement("h2",null,u)),a.a.createElement("div",{className:"post-card__button-container"},a.a.createElement("button",{className:"post-card__button",onClick:function(){return r(t)}},"View"),!n&&c&&c._id&&a.a.createElement("button",{className:"post-card__button",onClick:function(){return s(t._id,c._id)}},d?"Unlike":"Like"),n&&a.a.createElement("button",{className:"post-card__button",onClick:function(){return i(t)}},t.published?"Hide":"Publish"),(n||m)&&a.a.createElement("button",{className:"post-card__button--delete-lg",onClick:o},"Delete"))))}),$=(r(378),function(e){var t=e.posts,r=e.setIndex,o=e.edit,i=e.open,c=e.publish,s=e.user,u=e.like,p=Object(W.m)(),f=Object(n.useState)(-1),h=Object(l.a)(f,2),m=h[0],d=h[1];function v(e){return t.findIndex(function(t){return t._id===e._id})}function y(e){d(v(e))}return Object(n.useEffect)(function(){-1!==m&&(r(m),p("/my-dev-website/post"))},[m]),a.a.createElement("div",{className:"posts-view"},t.map(function(e){return(e.published||o)&&a.a.createElement(Z,{key:e._id,post:e,onClick:y,edit:o,open:function(){r(v(e)),i()},publish:c,user:s,like:u})}))}),ee=function(e){var t=e.posts,r=e.setIndex,n=e.open,o=e.user,i=e.like;return a.a.createElement("div",{className:"posts"},a.a.createElement("h1",{className:"posts__title"},"Posts"),a.a.createElement($,{posts:t,setIndex:r,open:n,user:o,like:i}))},te=(r(380),function(e){var t=e.submit,r=e.loginState,o=e.setLoginState,i=e.posts,c=e.logout,s=e.setPostIndex,u=e.setEdit,p=e.open,f=e.publish,h=r.user,d=r.msg,v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1];function E(e){var t=e.target.id,n=JSON.parse(JSON.stringify(r));n.user[t]=e.target.value,o(n)}return Object(n.useEffect)(function(){if(r.success){var e=i.filter(function(e){return e.author.username===r.user.username});b(e)}},[r,i]),r.success?a.a.createElement("div",{className:"logout"},a.a.createElement("h1",{className:"logout__title"},"Welcome ",h.username,"!"),a.a.createElement($,{posts:g,setIndex:function(e){var t=i.findIndex(function(t){return t._id===g[e]._id});s(t),u(!0)},edit:!0,open:p,publish:f}),a.a.createElement(V.b,{to:"/my-dev-website/new-post",className:"logout__button--link"},"New Post"),a.a.createElement("p",null,"You are currently logged in."),a.a.createElement("button",{type:"button",onClick:c,className:"logout__button"},"Logout")):a.a.createElement("form",{className:"login",onSubmit:function(e){e.preventDefault(),t(r.user)},validate:"true"},a.a.createElement("h1",{className:"login__title"},"Login"),a.a.createElement("label",{htmlFor:"username"},"Username*"),a.a.createElement("input",{type:"text",id:"username",className:"login__username",onChange:E,value:h.username,required:!0}),a.a.createElement("label",{htmlFor:"password"},"Password*"),a.a.createElement("input",{type:"text",id:"password",className:"login__password",onChange:E,value:h.password,required:!0}),a.a.createElement("button",{type:"submit",className:"login__button"},"Login"),d&&a.a.createElement(m,{msg:d}))}),re=(r(382),function(e){var t=e.loginState,r=e.submit,o=e.update,i=e.response,c=e.deleteErrors,s=t.user,p=t.success,f=i.success,d=i.errors,v=Object(n.useState)(s),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){return function(){return c()}},[]);var E=Object(W.m)();function w(e){var t=e.target,r=Object(u.a)({},g,Object(h.a)({},t.id,t.value));b(r)}return Object(n.useEffect)(function(){f&&E("/my-dev-website/login")},[f]),a.a.createElement("form",{className:"signup",onSubmit:function(e){e.preventDefault(),p?o(g):r(g)},validate:"true"},a.a.createElement("h1",{className:"signup__title"},p?"Update User":"Sign Up"),a.a.createElement("label",{htmlFor:"username"},"Username*"),a.a.createElement("input",{type:"text",id:"username",className:"signup__username",onChange:w,value:g.username,required:!0}),!p&&a.a.createElement("label",{htmlFor:"password"},"Password*"),!p&&a.a.createElement("input",{type:"text",id:"password",className:"signup__password",onChange:w,value:g.password,required:!0}),a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement("input",{type:"text",id:"name",className:"signup__name",onChange:w,value:g.name}),a.a.createElement("label",{htmlFor:"jobTitle"},"Job Title"),a.a.createElement("input",{type:"text",id:"jobTitle",className:"signup__job-title",onChange:w,value:g.jobTitle}),a.a.createElement("label",{htmlFor:"bio"},"Bio"),a.a.createElement("textarea",{name:"bio",id:"bio",cols:"30",rows:"10",className:"submit_bio",onChange:w,value:g.bio}),a.a.createElement("button",{type:"submit",className:"signup__button"},"Submit"),d&&0!==d.length&&d.map(function(e,t){return a.a.createElement(m,{msg:e.msg,key:t})}))}),ne=(r(384),function(e){var t=e.submit,r=e.response,o=e.deleteResponse,i=r.post,c=r.errors,s=Object(n.useState)(i.title),u=Object(l.a)(s,2),p=u[0],f=u[1],h=Object(W.m)();return Object(n.useEffect)(function(){r.success?(o(),h("/my-dev-website/login")):f(r.post.title)},[r]),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:p})},className:"new-post"},a.a.createElement("h1",{className:"new-post__title"},"New Post"),a.a.createElement("label",{htmlFor:"title"},"Title*"),a.a.createElement("input",{type:"text",id:"title",required:!0,onChange:function(e){f(e.target.value)},value:p}),a.a.createElement("button",{type:"submit"},"Submit"),c.length>0&&a.a.createElement(m,{msg:c[0].msg}))}),ae=(r(386),function(e){var t=e.show,r=e.variant,n=e.header,o=e.footer,i=e.children;return a.a.createElement("div",{className:"modal ".concat(t&&"show")},a.a.createElement(X,{variant:r,headerTextLeft:n,footerTextLeft:o},i))}),oe=function(e){var t=e.open,r=e.close,n=e.error;return a.a.createElement(ae,{variant:"danger",header:"Error!",footer:"Sorry, but it happens sometimes",show:t},a.a.createElement("div",{className:"modal-body"},a.a.createElement(m,{msg:n.msg}),a.a.createElement("div",{className:"modal-body__button-container"},a.a.createElement("button",{className:"modal-body__button",onClick:r},"OK"))))};function ie(){ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),c=new j(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function i(){return new t(function(a,i){!function n(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(p).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(n,o,a,i)})}return a=a?a.then(i,i):i()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),s(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),s(g,c,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var ce=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(!1),p=Object(l.a)(i,2),f=p[0],h=p[1],d=Object(n.useState)(0),v=Object(l.a)(d,2),y=v[0],g=v[1],b=Object(n.useState)(!1),E=Object(l.a)(b,2),w=E[0],x=E[1],O=Object(n.useState)([{title:"...Loading",author:{username:"...Loading"},content:[]}]),j=Object(l.a)(O,2),N=j[0],L=j[1],T=Object(n.useState)({title:"...Loading",author:{username:"...Loading"},content:[]}),C=Object(l.a)(T,2),P=C[0],J=C[1],G=Object(n.useState)([]),D=Object(l.a)(G,2),Y=D[0],z=D[1],R=Object(n.useState)({success:!1,user:{username:"",password:"",isAdmin:!1,name:"",jobTitle:"",bio:""},token:"",msg:""}),H=Object(l.a)(R,2),X=H[0],Z=H[1],$={success:!1,type:"POST",post:{author:"",title:""},errors:[]},ce=Object(n.useState)($),se=Object(l.a)(ce,2),ue=se[0],le=se[1],pe=Object(n.useState)({msg:""}),fe=Object(l.a)(pe,2),he=fe[0],me=fe[1],de=Object(n.useState)({success:!1,errors:[]}),ve=Object(l.a)(de,2),ye=ve[0],ge=ve[1];function be(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(s.a)(ie().mark(function e(t){var r,n,a,o,i;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,e.prev=1,e.next=4,_(r,n);case 4:a=e.sent,(o=JSON.parse(JSON.stringify(X))).success=a.success,o.msg=a.msg,o.token=a.token,a.success&&(o.user=Object(u.a)({},a.user),o.user.password="",localStorage.setItem("loginState",JSON.stringify(o))),Z(o),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),(i=Object(u.a)({},X)).msg=e.t0.message,Z(i);case 19:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function we(e){var t=JSON.parse(JSON.stringify(N));t.forEach(function(t){t.author._id===e._id&&(t.author=e)}),L(t)}function xe(e,t){e._id="",e.isAdmin=!1,Z({success:!1,user:e,errors:[]}),ge({success:!1,errors:t})}function Oe(){return(Oe=Object(s.a)(ie().mark(function e(t){var r;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:r=e.sent,je(),r.success?(ge(r),be(t)):xe(t,r.errors),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),xe(t,[{msg:e.t0.message}]);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function _e(){return(_e=Object(s.a)(ie().mark(function e(t){var r,n;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t,X.token);case 3:r=e.sent,ge(r),r.success&&(we(t),(n=JSON.parse(JSON.stringify(X))).user=t,Z(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ge({success:!1,errors:[{msg:e.t0.message}]});case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function je(){localStorage.removeItem("loginState"),Z({success:!1,user:{_id:"",username:"",password:""},token:"",msg:""})}function ke(){return(ke=Object(s.a)(ie().mark(function e(t){var r,n,a;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)(N),(n=Object(u.a)({},r[y])).title=t,r[y]=n,L(r),e.prev=5,e.next=8,k(n,X.token);case 8:a=e.sent,z(a.errors),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),z([{msg:e.t0.message}]);case 15:case"end":return e.stop()}},e,null,[[5,12]])}))).apply(this,arguments)}function Ne(){return(Ne=Object(s.a)(ie().mark(function e(t){var r,n,a,o;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(N)),n=Object(u.a)({},r[y]),a=n.content.findIndex(function(e){return e._id===t._id}),n.content[a]=Object(u.a)({},t),e.prev=4,e.next=7,S(t,X.token);case 7:o=e.sent,n.content[a].errors=o.errors,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.content[a].errors=[{msg:e.t0.message}];case 14:return e.prev=14,L(r),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[4,11,14,17]])}))).apply(this,arguments)}function Se(){return(Se=Object(s.a)(ie().mark(function e(t){var r;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.author=X.user._id,e.prev=1,e.next=4,I(t,X.token);case 4:(r=e.sent).post||(r.post=t),le(Object(u.a)({},r,{type:"POST"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),le({success:!1,type:"POST",post:t,errors:[{msg:e.t0.message}]});case 12:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Le(){return(Le=Object(s.a)(ie().mark(function e(t){var r;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t,X.token);case 3:r=e.sent,le(Object(u.a)({},r,{post:t,type:"DELETE"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),le({success:!1,type:"DELETE",post:t,errors:[{msg:e.t0.message}]});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Te(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(s.a)(ie().mark(function e(t){var r,n;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.published=!t.published,e.prev=1,e.next=4,k(t,X.token);case 4:if(!(r=e.sent).success){e.next=12;break}(n=JSON.parse(JSON.stringify(N))).find(function(e){return e._id===t._id}).published=t.published,L(n),e.next=13;break;case 12:throw new Error(r.errors[0].msg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),Ge({msg:e.t0.message});case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}function Pe(){return(Pe=Object(s.a)(ie().mark(function e(t,r){var n,a,o,i;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,r);case 3:if(!(n=e.sent).success){e.next=13;break}a=JSON.parse(JSON.stringify(N)),o=a.find(function(e){return e._id===t}),-1!==(i=o.likes.indexOf(r))?o.likes.splice(i,1):o.likes.push(r),L(a),e.next=14;break;case 13:throw new Error(n.errors[0].msg);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Ge({msg:e.t0.message});case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function Je(){le($)}function Fe(){o(!0)}function Ie(){o(!1)}function Ge(e){me(e),h(!0)}return Object(n.useEffect)(function(){(function(){return F.apply(this,arguments)})().then(function(e){L(e.posts)}).catch(function(e){console.error(e.message),Ge({msg:e.message})});var e=JSON.parse(localStorage.getItem("loginState"));e&&Z(e)},[]),Object(n.useEffect)(function(){var e=ue.success,t=ue.type,r=ue.post,n=ue.errors;if(""!==r.author||""!==r.title||0!==n.length){if("POST"===t&&e){var a=JSON.parse(JSON.stringify(N));r.author=Object(u.a)({},X.user),a.push(r),L(a)}if("DELETE"===t&&e){var o=JSON.parse(JSON.stringify(N));o.splice(y,1),L(o),g(0),Je(),Ie()}}},[ue]),Object(n.useEffect)(function(){var e=N.find(function(e){return"64347b31a310964c06459b3b"===e._id});e&&J(e)},[N]),a.a.createElement("div",{className:"App"},a.a.createElement(V.a,null,a.a.createElement(K,{loginSuccess:X.success}),a.a.createElement(W.c,null,a.a.createElement(W.a,{path:"/my-dev-website/post",element:a.a.createElement(M,{post:N[y],submit:function(e){return ke.apply(this,arguments)},updateBlock:function(e){return Ne.apply(this,arguments)},errors:Y,setPost:function(e){var t=Object(c.a)(N);t[y]=e,L(t)},token:X.token,edit:w&&X.user.username===N[y].author.username})}),a.a.createElement(W.a,{path:"/my-dev-website/about",element:a.a.createElement(Q,{post:P})}),a.a.createElement(W.a,{path:"/my-dev-website/",element:a.a.createElement(ee,{posts:N,setIndex:function(e){g(e),x(!1)},user:X.user,open:Fe,publish:Te,like:function(e,t){return Pe.apply(this,arguments)}})}),a.a.createElement(W.a,{path:"/my-dev-website/login",element:a.a.createElement(te,{submit:be,loginState:X,setLoginState:Z,logout:je,posts:N,setPostIndex:g,setEdit:x,open:Fe,publish:Te})}),a.a.createElement(W.a,{path:"/my-dev-website/signup",element:a.a.createElement(re,{loginState:X,submit:function(e){return Oe.apply(this,arguments)},update:function(e){return _e.apply(this,arguments)},response:ye,deleteErrors:function(){ge({success:!1,errors:[]})}})}),a.a.createElement(W.a,{path:"/my-dev-website/new-post",element:a.a.createElement(ne,{submit:function(e){return Se.apply(this,arguments)},response:ue,deleteResponse:Je})}))),a.a.createElement(ae,{show:r,variant:"danger",header:"Danger!",footer:"Permanent data loss"},a.a.createElement("div",{className:"modal-body"},0===ue.errors.length&&a.a.createElement("p",null,"You are going to delete the post permanently. Are you sure?"),0!==ue.errors.length&&a.a.createElement(m,{msg:ue.errors[0].msg}),a.a.createElement("div",{className:"modal-body__button-container"},a.a.createElement("button",{type:"button",onClick:function(){return function(e){return Le.apply(this,arguments)}(N[y])},className:"modal-body__button--delete"},"Delete"),a.a.createElement("button",{type:"button",onClick:function(){Je(),Ie()},className:"modal-body__button"},"Cancel")))),a.a.createElement(oe,{open:f,close:function(){me({msg:""}),h(!1)},error:he}))},se=function(e){e&&e instanceof Function&&r.e(1).then(r.bind(null,392)).then(function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ce,null))),se()},57:function(e,t,r){e.exports=r(388)},66:function(e,t,r){},68:function(e,t,r){},70:function(e,t,r){},72:function(e,t,r){},74:function(e,t,r){}},[[57,3,2]]]);
//# sourceMappingURL=main.434c4ea7.chunk.js.map