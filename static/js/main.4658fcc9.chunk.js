(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{364:function(e,t,r){},366:function(e,t,r){},368:function(e,t,r){},370:function(e,t,r){},372:function(e,t,r){},374:function(e,t,r){},376:function(e,t,r){},378:function(e,t,r){},380:function(e,t,r){},382:function(e,t,r){},384:function(e,t,r){},386:function(e,t,r){},388:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(51),c=r.n(o),i=(r(66),r(6)),s=r(4),u=r(8),l=r(3),p=(r(68),r(393)),f=r(391),h=r(5),m=(r(70),function(e){var t=e.msg;return a.a.createElement("p",{className:"error-msg"},t)}),d=(r(72),function(e){var t=e.block,r=e.submit,o=e.cancel,c=t.errors;function i(e){if("paragraph"===e.type){var t=JSON.parse(JSON.stringify(e));return t.text=function(e){if(!e.links)return e.text;var t=[],r=0;e.links.forEach(function(n){var a=e.text.slice(r,n.position);a&&t.push(a),t.push("[".concat(n.description,"](").concat(n.url,")")),r=n.position});var n=e.text.slice(r,e.text.length);return n&&t.push(n),t.join("")}(e),t.links=[],t}return e}var s,p=Object(n.useState)(i(t)),f=Object(l.a)(p,2),d=f[0],v=f[1];function y(e){var t=e.target.id,r=Object(u.a)({},d,Object(h.a)({},t,e.target.value));v(r)}return Object(n.useEffect)(function(){v(i(t))},[t]),a.a.createElement("form",{className:"edit-block",onSubmit:function(e){if(e.preventDefault(),"paragraph"===d.type){var t=JSON.parse(JSON.stringify(d)),n=function(e){var t=e.split("]("),r=[],n=0;return t.forEach(function(e,a){var o=t[a-1];if(o&&-1!==o.indexOf("[")){var c=o.split("[");t[a-1]=c[0],n+=c[0].length,r.push({description:c[1]})}if(-1!==e.indexOf(")")){var i=e.split(")"),s=r.pop();s&&(s.url=i[0],s.position=n,r.push(s),t[a]=i[1])}}),{links:r,text:t.join("")}}(d.text);t.text=n.text,t.links=n.links,r(t)}else r(d)}},a.a.createElement("div",{className:"input-container"},"subtitle"===t.type&&a.a.createElement("input",{type:"text",value:d.text,onChange:y,id:"text",required:!0,className:"edit-block__input"}),"subtitle"!==t.type&&a.a.createElement("textarea",{className:"edit-block__textarea",rows:(s=d.text,s.split("\n").length),value:d.text,onChange:y,id:"text"}),a.a.createElement("div",{className:"type-area"},a.a.createElement("select",{name:"type",id:"type",value:d.type,onChange:y},a.a.createElement("option",{value:"paragraph"},"Paragraph"),a.a.createElement("option",{value:"subtitle"},"Subtitle"),a.a.createElement("option",{value:"code"},"Code")),"code"===t.type&&a.a.createElement("select",{name:"language",id:"language",value:d.language,onChange:y},a.a.createElement("option",{value:"html"},"HTML"),a.a.createElement("option",{value:"css"},"CSS"),a.a.createElement("option",{value:"javascript"},"JavaScript")))),a.a.createElement("div",{className:"button-container"},a.a.createElement("button",{type:"submit"},"Submit"),a.a.createElement("button",{type:"button",onClick:function(){v(t),o()}},"Cancel")),a.a.createElement("div",{className:"errors-container"},c&&c.map(function(e,t){return a.a.createElement(m,{key:t,msg:e.msg})})))}),v=(r(74),function(e){var t,r=e.block,o=e.edit,c=e.submit,i=e.remove,s=r.type,u=r.language,h=r.text,m=r.links,v=r.errors,y=Object(n.useState)(!1),g=Object(l.a)(y,2),b=g[0],E=g[1],w=b||v&&0!==v.length;switch(s){case"paragraph":var x=function(e,t){var r=0;return t.map(function(e){return{text:'<a href="'.concat(e.url,'">').concat(e.description,"</a>"),pos:e.position}}).filter(function(e){return e.pos>=0}).sort(function(e,t){return e.pos-t.pos}).forEach(function(t){var n=t.pos+r,a=e.slice(0,n)+" ",o=" "+e.slice(n,e.length+1);e=a+t.text+o,r=r+t.text.length+2}),e}(h,m);t=a.a.createElement("p",{className:"block__p",dangerouslySetInnerHTML:{__html:x}});break;case"subtitle":t=a.a.createElement("h2",{className:"block__h2"},h);break;case"code":t=a.a.createElement("div",{className:"block__code"},a.a.createElement(p.a,{language:u,style:f.a},h));break;default:t=a.a.createElement(a.a.Fragment,null)}return a.a.createElement("div",{className:"block"},!w&&t,o&&!w&&a.a.createElement("div",{className:"block__edit-btns"},a.a.createElement("button",{type:"button",className:"block__button",onClick:function(){return E(!0)}},"Edit"),r._id&&a.a.createElement("button",{type:"button",className:"block__button--delete",onClick:function(){return i(r)}},"Delete")),w&&a.a.createElement(d,{block:r,submit:function(e){E(!1),c(e)},cancel:function(){return E(!1)},className:"edit-block"}))}),y=(r(364),function(e){var t=e.title,r=e.edit,o=e.submit,c=e.errors,i=Object(n.useState)(0!==c.length),s=Object(l.a)(i,2),u=s[0],p=s[1],f=Object(n.useState)(t),h=Object(l.a)(f,2),d=h[0],v=h[1];return Object(n.useEffect)(function(){v(t),p(0!==c.length)},[t,c]),a.a.createElement("div",{className:"post-title"},!u&&a.a.createElement("h1",{className:"post-title__title"},t),!u&&r&&a.a.createElement("button",{type:"button",className:"post-title__btn-edit",onClick:function(){return p(!0)}},"Edit"),u&&a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p(!1),o(d)},className:"post-title__form"},a.a.createElement("input",{type:"text",value:d,onChange:function(e){v(e.target.value)},required:!0}),a.a.createElement("button",{type:"submit"},"Submit"),0===c.length&&a.a.createElement("button",{type:"button",onClick:function(){v(t),p(!1)}},"Cancel"),a.a.createElement("div",{className:"post-title__errors"},c.map(function(e,t){return a.a.createElement(m,{key:t,msg:e.msg})})))))}),g=r(56),b=(r(366),function(e){var t=e.author,r=Object(g.a)(e,["author"]),n=t.username,o=t.name,c=t.jobTitle,i=t.bio;return a.a.createElement("article",r,a.a.createElement("h1",null,o||n),a.a.createElement("h2",null,c),a.a.createElement("p",null,i))});function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new k(a||[]);return n(c,"_invoke",{value:x(e,r,i)}),c}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(N([])));y&&y!==t&&r.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t(function(a,c){!function n(a,o,c,i){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(s.arg)}(n,o,a,c)})}return a=a?a.then(c,c):c()}})}function x(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return S()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=O(c,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,c,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new w(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(g),s(g,i,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;j(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var w="https://radiant-crag-39178.herokuapp.com";function x(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(E().mark(function e(t){var r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=4;break}r={success:!1,errors:[{msg:t.statusText}]},e.next=7;break;case 4:return e.next=6,t.json();case 6:r=e.sent;case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e,t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(E().mark(function e(t,r){var n,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/login"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:r})});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,t){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e,t){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e,t){return J.apply(this,arguments)}function J(){return(J=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t.post,"/blocks/").concat(t._id),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r}});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(s.a)(E().mark(function e(){var t,r;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts"),{mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t){return G.apply(this,arguments)}function G(){return(G=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t._id),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r}});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(s.a)(E().mark(function e(t){var r,n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.next=5,r.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e,t){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(E().mark(function e(t,r){var n;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users/").concat(t._id),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json",Authorization:r},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,x(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e,t){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(E().mark(function e(t,r){var n,a;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/posts/").concat(t,"/likes"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:r})});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}r(368);function H(){H=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new j(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t(function(a,c){!function n(a,o,c,i){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(s.arg)}(n,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),s(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(g),s(g,i,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var M=function(e){var t=e.post,r=e.submit,o=e.updateBlock,c=e.errors,i=e.setPost,u=e.token,p=e.edit,f=t._id,h=t.title,m=t.author,d=t.content,g={text:"New Block",type:"paragraph",links:[],language:" ",post:"",errors:[]},E=Object(n.useState)(g),w=Object(l.a)(E,2),x=w[0],O=w[1];function _(){return(_=Object(s.a)(H().mark(function e(r){var n,a,o;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=JSON.parse(JSON.stringify(r))).post=f,a=JSON.parse(JSON.stringify(t)),e.prev=3,e.next=6,T(n,u);case 6:(o=e.sent).success?(a.content.push(o.block),O(g),n.errors=[]):n.errors=o.errors,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),n.errors=[{msg:e.t0.message}];case 13:return e.prev=13,0!==n.errors.length&&O(n),i(a),e.finish(13);case 17:case"end":return e.stop()}},e,null,[[3,10,13,17]])}))).apply(this,arguments)}function j(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(H().mark(function e(r){var n,a,o,c;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=JSON.parse(JSON.stringify(r))).post=f,a=JSON.parse(JSON.stringify(t)),o=a.content.findIndex(function(e){return e._id===n._id}),e.prev=4,e.next=7,P(n,u);case 7:(c=e.sent).success?a.content.splice(o,1):n.errors=c.errors,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.errors=[{msg:e.t0.message}];case 14:return e.prev=14,n.errors&&0!==n.errors.length&&(a.content[o]=n),i(a),e.finish(14);case 18:case"end":return e.stop()}},e,null,[[4,11,14,18]])}))).apply(this,arguments)}return a.a.createElement("div",{className:"post"},a.a.createElement(b,{author:m,className:"author"}),a.a.createElement("article",null,a.a.createElement(y,{title:h,edit:p,submit:r,errors:c}),d.map(function(e){return a.a.createElement(v,{key:e._id,block:e,edit:p,submit:o,remove:j})}),p&&a.a.createElement(v,{key:"new-block",block:x,edit:p,submit:function(e){return _.apply(this,arguments)}})))},V=(r(370),r(9)),K=function(e){var t=e.loginSuccess;return a.a.createElement("nav",{className:"nav"},a.a.createElement("ul",null,a.a.createElement("li",{className:"nav__logo"},a.a.createElement(V.b,{to:"/"},"Alex73 DEV")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/about"},"About")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/"},"Home")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/post"},"Post")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/login"},"Login")),a.a.createElement("li",{className:"nav__item"},a.a.createElement(V.b,{to:"/signup"},t?"User":"Sign Up"))))},W=r(0),Q=function(e){var t=e.post;return a.a.createElement(M,{post:t,edit:!1,errors:[]})},X=(r(372),r(374),function(e){var t=e.variant,r=e.headerTextLeft,n=e.headerTextRight,o=e.footerTextLeft,c=e.footerTextRight,i=e.children;return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"card__header ".concat(t&&t)},a.a.createElement("div",null,r),a.a.createElement("div",null,n)),i,a.a.createElement("div",{className:"card__footer ".concat(t&&"footer-".concat(t))},a.a.createElement("div",null,o),a.a.createElement("div",null,c)))}),Z=(r(376),function(e){var t=e.post,r=e.onClick,n=e.edit,o=e.open,c=e.publish,i=e.user,s=e.like,u=t.title,l=t.author,p=t.createdAt,f=t.updatedAt,h=t.likes,m=!!i&&i.isAdmin,d=!!i&&-1!==h.indexOf(i._id);return a.a.createElement(X,{headerTextLeft:"By ".concat(l.username),headerTextRight:"Likes: ".concat(h.length),footerTextLeft:"Created:".concat(p&&p.slice(0,10)),footerTextRight:"Updated:".concat(f&&f.slice(0,10))},a.a.createElement("div",{className:"post-card__body"},a.a.createElement("div",{className:"post-card__title"},a.a.createElement("h2",null,u)),a.a.createElement("div",{className:"post-card__button-container"},a.a.createElement("button",{className:"post-card__button",onClick:function(){return r(t)}},"View"),!n&&i&&i._id&&a.a.createElement("button",{className:"post-card__button",onClick:function(){return s(t._id,i._id)}},d?"Unlike":"Like"),n&&a.a.createElement("button",{className:"post-card__button",onClick:function(){return c(t)}},t.published?"Hide":"Publish"),(n||m)&&a.a.createElement("button",{className:"post-card__button--delete-lg",onClick:o},"Delete"))))}),$=(r(378),function(e){var t=e.posts,r=e.setIndex,o=e.edit,c=e.open,i=e.publish,s=e.user,u=e.like,p=Object(W.m)(),f=Object(n.useState)(-1),h=Object(l.a)(f,2),m=h[0],d=h[1];function v(e){return t.findIndex(function(t){return t._id===e._id})}function y(e){d(v(e))}return Object(n.useEffect)(function(){-1!==m&&(r(m),p("/post"))},[m]),a.a.createElement("div",{className:"posts-view"},t.map(function(e){return(e.published||o)&&a.a.createElement(Z,{key:e._id,post:e,onClick:y,edit:o,open:function(){r(v(e)),c()},publish:i,user:s,like:u})}))}),ee=function(e){var t=e.posts,r=e.setIndex,n=e.open,o=e.user,c=e.like;return a.a.createElement("div",{className:"posts"},a.a.createElement("h1",{className:"posts__title"},"Posts"),a.a.createElement($,{posts:t,setIndex:r,open:n,user:o,like:c}))},te=(r(380),function(e){var t=e.submit,r=e.loginState,o=e.setLoginState,c=e.posts,i=e.logout,s=e.setPostIndex,u=e.setEdit,p=e.open,f=e.publish,h=r.user,d=r.msg,v=Object(n.useState)([]),y=Object(l.a)(v,2),g=y[0],b=y[1];function E(e){var t=e.target.id,n=JSON.parse(JSON.stringify(r));n.user[t]=e.target.value,o(n)}return Object(n.useEffect)(function(){if(r.success){var e=c.filter(function(e){return e.author.username===r.user.username});b(e)}},[r,c]),r.success?a.a.createElement("div",{className:"logout"},a.a.createElement("h1",{className:"logout__title"},"Welcome ",h.username,"!"),a.a.createElement($,{posts:g,setIndex:function(e){var t=c.findIndex(function(t){return t._id===g[e]._id});s(t),u(!0)},edit:!0,open:p,publish:f}),a.a.createElement(V.b,{to:"/new-post",className:"logout__button--link"},"New Post"),a.a.createElement("p",null,"You are currently logged in."),a.a.createElement("button",{type:"button",onClick:i,className:"logout__button"},"Logout")):a.a.createElement("form",{className:"login",onSubmit:function(e){e.preventDefault(),t(r.user)},validate:"true"},a.a.createElement("h1",{className:"login__title"},"Login"),a.a.createElement("label",{htmlFor:"username"},"Username*"),a.a.createElement("input",{type:"text",id:"username",className:"login__username",onChange:E,value:h.username,required:!0}),a.a.createElement("label",{htmlFor:"password"},"Password*"),a.a.createElement("input",{type:"text",id:"password",className:"login__password",onChange:E,value:h.password,required:!0}),a.a.createElement("button",{type:"submit",className:"login__button"},"Login"),d&&a.a.createElement(m,{msg:d}))}),re=(r(382),function(e){var t=e.loginState,r=e.submit,o=e.update,c=e.response,i=e.deleteErrors,s=t.user,p=t.success,f=c.success,d=c.errors,v=Object(n.useState)(s),y=Object(l.a)(v,2),g=y[0],b=y[1];Object(n.useEffect)(function(){return function(){return i()}},[]);var E=Object(W.m)();function w(e){var t=e.target,r=Object(u.a)({},g,Object(h.a)({},t.id,t.value));b(r)}return Object(n.useEffect)(function(){f&&E("/my-dev-website/login")},[f]),a.a.createElement("form",{className:"signup",onSubmit:function(e){e.preventDefault(),p?o(g):r(g)},validate:"true"},a.a.createElement("h1",{className:"signup__title"},p?"Update User":"Sign Up"),a.a.createElement("label",{htmlFor:"username"},"Username*"),a.a.createElement("input",{type:"text",id:"username",className:"signup__username",onChange:w,value:g.username,required:!0}),!p&&a.a.createElement("label",{htmlFor:"password"},"Password*"),!p&&a.a.createElement("input",{type:"text",id:"password",className:"signup__password",onChange:w,value:g.password,required:!0}),a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement("input",{type:"text",id:"name",className:"signup__name",onChange:w,value:g.name}),a.a.createElement("label",{htmlFor:"jobTitle"},"Job Title"),a.a.createElement("input",{type:"text",id:"jobTitle",className:"signup__job-title",onChange:w,value:g.jobTitle}),a.a.createElement("label",{htmlFor:"bio"},"Bio"),a.a.createElement("textarea",{name:"bio",id:"bio",cols:"30",rows:"10",className:"submit_bio",onChange:w,value:g.bio}),a.a.createElement("button",{type:"submit",className:"signup__button"},"Submit"),d&&0!==d.length&&d.map(function(e,t){return a.a.createElement(m,{msg:e.msg,key:t})}))}),ne=(r(384),function(e){var t=e.submit,r=e.response,o=e.deleteResponse,c=r.post,i=r.errors,s=Object(n.useState)(c.title),u=Object(l.a)(s,2),p=u[0],f=u[1],h=Object(W.m)();return Object(n.useEffect)(function(){r.success?(o(),h("/login")):f(r.post.title)},[r]),a.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:p})},className:"new-post"},a.a.createElement("h1",{className:"new-post__title"},"New Post"),a.a.createElement("label",{htmlFor:"title"},"Title*"),a.a.createElement("input",{type:"text",id:"title",required:!0,onChange:function(e){f(e.target.value)},value:p}),a.a.createElement("button",{type:"submit"},"Submit"),i.length>0&&a.a.createElement(m,{msg:i[0].msg}))}),ae=(r(386),function(e){var t=e.show,r=e.variant,n=e.header,o=e.footer,c=e.children;return a.a.createElement("div",{className:"modal ".concat(t&&"show")},a.a.createElement(X,{variant:r,headerTextLeft:n,footerTextLeft:o},c))}),oe=function(e){var t=e.open,r=e.close,n=e.error;return a.a.createElement(ae,{variant:"danger",header:"Error!",footer:"Sorry, but it happens sometimes",show:t},a.a.createElement("div",{className:"modal-body"},a.a.createElement(m,{msg:n.msg}),a.a.createElement("div",{className:"modal-body__button-container"},a.a.createElement("button",{className:"modal-body__button",onClick:r},"OK"))))};function ce(){ce=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,r){return e[t]=r}}function u(e,t,r,a){var o=t&&t.prototype instanceof f?t:f,c=Object.create(o.prototype),i=new j(a||[]);return n(c,"_invoke",{value:w(e,r,i)}),c}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var p={};function f(){}function h(){}function m(){}var d={};s(d,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(d=y);var g=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;n(this,"_invoke",{value:function(n,o){function c(){return new t(function(a,c){!function n(a,o,c,i){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,p=u.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,c,i)},function(e){n("throw",e,c,i)}):t.resolve(p).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,i)})}i(s.arg)}(n,o,a,c)})}return a=a?a.then(c,c):c()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return N()}for(r.method=a,r.arg=o;;){var c=r.delegate;if(c){var i=x(c,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}function x(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var a=l(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:h,configurable:!0}),h.displayName=s(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),s(E.prototype,c,function(){return this}),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var c=new E(u(t,r,n,a),o);return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},b(g),s(g,i,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return c.type="throw",c.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var i=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(i&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var ie=function(){var e="64b3b9fc11a583b26b48b476",t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],c=r[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),h=f[0],d=f[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),g=y[0],b=y[1],E=Object(n.useState)(!1),w=Object(l.a)(E,2),x=w[0],O=w[1],j=Object(n.useState)([{title:"...Loading",author:{username:"...Loading"},content:[]}]),N=Object(l.a)(j,2),L=N[0],T=N[1],C=Object(n.useState)({title:"...Loading",author:{username:"...Loading"},content:[]}),P=Object(l.a)(C,2),J=P[0],G=P[1],D=Object(n.useState)([]),Y=Object(l.a)(D,2),z=Y[0],R=Y[1],H=Object(n.useState)({success:!1,user:{username:"",password:"",isAdmin:!1,name:"",jobTitle:"",bio:""},token:"",msg:""}),X=Object(l.a)(H,2),Z=X[0],$=X[1],ie={success:!1,type:"POST",post:{author:"",title:""},errors:[]},se=Object(n.useState)(ie),ue=Object(l.a)(se,2),le=ue[0],pe=ue[1],fe=Object(n.useState)({msg:""}),he=Object(l.a)(fe,2),me=he[0],de=he[1],ve=Object(n.useState)({success:!1,errors:[]}),ye=Object(l.a)(ve,2),ge=ye[0],be=ye[1];function Ee(e){return we.apply(this,arguments)}function we(){return(we=Object(s.a)(ce().mark(function e(t){var r,n,a,o,c;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,e.prev=1,e.next=4,_(r,n);case 4:a=e.sent,(o=JSON.parse(JSON.stringify(Z))).success=a.success,o.msg=a.msg,o.token=a.token,a.success&&(o.user=Object(u.a)({},a.user),o.user.password="",localStorage.setItem("loginState",JSON.stringify(o))),$(o),e.next=19;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),(c=Object(u.a)({},Z)).msg=e.t0.message,$(c);case 19:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function xe(e){var t=JSON.parse(JSON.stringify(L));t.forEach(function(t){t.author._id===e._id&&(t.author=e)}),T(t)}function Oe(e,t){e._id="",e.isAdmin=!1,$({success:!1,user:e,errors:[]}),be({success:!1,errors:t})}function _e(){return(_e=Object(s.a)(ce().mark(function e(t){var r;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:r=e.sent,ke(),r.success?(be(r),Ee(t)):Oe(t,r.errors),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Oe(t,[{msg:e.t0.message}]);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function je(){return(je=Object(s.a)(ce().mark(function e(t){var r,n;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(t,Z.token);case 3:r=e.sent,be(r),r.success&&(xe(t),(n=JSON.parse(JSON.stringify(Z))).user=t,$(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),be({success:!1,errors:[{msg:e.t0.message}]});case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function ke(){localStorage.removeItem("loginState"),$({success:!1,user:{_id:"",username:"",password:""},token:"",msg:""})}function Ne(){return(Ne=Object(s.a)(ce().mark(function e(t){var r,n,a;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(L),(n=Object(u.a)({},r[g])).title=t,r[g]=n,T(r),e.prev=5,e.next=8,k(n,Z.token);case 8:a=e.sent,R(a.errors),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),R([{msg:e.t0.message}]);case 15:case"end":return e.stop()}},e,null,[[5,12]])}))).apply(this,arguments)}function Se(){return(Se=Object(s.a)(ce().mark(function e(t){var r,n,a,o;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(JSON.stringify(L)),n=Object(u.a)({},r[g]),a=n.content.findIndex(function(e){return e._id===t._id}),n.content[a]=Object(u.a)({},t),e.prev=4,e.next=7,S(t,Z.token);case 7:o=e.sent,n.content[a].errors=o.errors,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n.content[a].errors=[{msg:e.t0.message}];case 14:return e.prev=14,T(r),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[4,11,14,17]])}))).apply(this,arguments)}function Le(){return(Le=Object(s.a)(ce().mark(function e(t){var r;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.author=Z.user._id,e.prev=1,e.next=4,I(t,Z.token);case 4:(r=e.sent).post||(r.post=t),pe(Object(u.a)({},r,{type:"POST"})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),pe({success:!1,type:"POST",post:t,errors:[{msg:e.t0.message}]});case 12:case"end":return e.stop()}},e,null,[[1,9]])}))).apply(this,arguments)}function Te(){return(Te=Object(s.a)(ce().mark(function e(t){var r;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t,Z.token);case 3:r=e.sent,pe(Object(u.a)({},r,{post:t,type:"DELETE"})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),pe({success:!1,type:"DELETE",post:t,errors:[{msg:e.t0.message}]});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Ce(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(s.a)(ce().mark(function e(t){var r,n;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.published=!t.published,e.prev=1,e.next=4,k(t,Z.token);case 4:if(!(r=e.sent).success){e.next=12;break}(n=JSON.parse(JSON.stringify(L))).find(function(e){return e._id===t._id}).published=t.published,T(n),e.next=13;break;case 12:throw new Error(r.errors[0].msg);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),Ae({msg:e.t0.message});case 18:case"end":return e.stop()}},e,null,[[1,15]])}))).apply(this,arguments)}function Je(){return(Je=Object(s.a)(ce().mark(function e(t,r){var n,a,o,c;return ce().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B(t,r);case 3:if(!(n=e.sent).success){e.next=13;break}a=JSON.parse(JSON.stringify(L)),o=a.find(function(e){return e._id===t}),-1!==(c=o.likes.indexOf(r))?o.likes.splice(c,1):o.likes.push(r),T(a),e.next=14;break;case 13:throw new Error(n.errors[0].msg);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Ae({msg:e.t0.message});case 19:case"end":return e.stop()}},e,null,[[0,16]])}))).apply(this,arguments)}function Fe(){pe(ie)}function Ie(){c(!0)}function Ge(){c(!1)}function Ae(e){de(e),d(!0)}return Object(n.useEffect)(function(){(function(){return F.apply(this,arguments)})().then(function(e){T(e.posts)}).catch(function(e){console.error(e.message),Ae({msg:e.message})});var e=JSON.parse(localStorage.getItem("loginState"));e&&$(e)},[]),Object(n.useEffect)(function(){var t=le.success,r=le.type,n=le.post,a=le.errors;if(""!==n.author||""!==n.title||0!==a.length){if("POST"===r&&t){var o=JSON.parse(JSON.stringify(L));n.author=Object(u.a)({},Z.user),o.push(n),T(o)}if("DELETE"===r&&t){var c=JSON.parse(JSON.stringify(L));c.splice(g,1),T(c),b(c.findIndex(function(t){return t._id===e})),Fe(),Ge()}}},[le]),Object(n.useEffect)(function(){var t=L.find(function(t){return t._id===e});t&&(G(t),b(L.findIndex(function(t){return t._id===e})))},[L]),a.a.createElement("div",{className:"App"},a.a.createElement(V.a,{basename:"/my-dev-website"},a.a.createElement(K,{loginSuccess:Z.success}),a.a.createElement(W.c,null,a.a.createElement(W.a,{path:"/post",element:a.a.createElement(M,{post:L[g],submit:function(e){return Ne.apply(this,arguments)},updateBlock:function(e){return Se.apply(this,arguments)},errors:z,setPost:function(e){var t=Object(i.a)(L);t[g]=e,T(t)},token:Z.token,edit:x&&Z.user.username===L[g].author.username})}),a.a.createElement(W.a,{path:"/about",element:a.a.createElement(Q,{post:J})}),a.a.createElement(W.a,{path:"/",element:a.a.createElement(ee,{posts:L,setIndex:function(e){b(e),O(!1)},user:Z.user,open:Ie,publish:Ce,like:function(e,t){return Je.apply(this,arguments)}})}),a.a.createElement(W.a,{path:"/login",element:a.a.createElement(te,{submit:Ee,loginState:Z,setLoginState:$,logout:ke,posts:L,setPostIndex:b,setEdit:O,open:Ie,publish:Ce})}),a.a.createElement(W.a,{path:"/signup",element:a.a.createElement(re,{loginState:Z,submit:function(e){return _e.apply(this,arguments)},update:function(e){return je.apply(this,arguments)},response:ge,deleteErrors:function(){be({success:!1,errors:[]})}})}),a.a.createElement(W.a,{path:"/new-post",element:a.a.createElement(ne,{submit:function(e){return Le.apply(this,arguments)},response:le,deleteResponse:Fe})}))),a.a.createElement(ae,{show:o,variant:"danger",header:"Danger!",footer:"Permanent data loss"},a.a.createElement("div",{className:"modal-body"},0===le.errors.length&&a.a.createElement("p",null,"You are going to delete the post permanently. Are you sure?"),0!==le.errors.length&&a.a.createElement(m,{msg:le.errors[0].msg}),a.a.createElement("div",{className:"modal-body__button-container"},a.a.createElement("button",{type:"button",onClick:function(){return function(e){return Te.apply(this,arguments)}(L[g])},className:"modal-body__button--delete"},"Delete"),a.a.createElement("button",{type:"button",onClick:function(){Fe(),Ge()},className:"modal-body__button"},"Cancel")))),a.a.createElement(oe,{open:h,close:function(){de({msg:""}),d(!1)},error:me}))},se=function(e){e&&e instanceof Function&&r.e(1).then(r.bind(null,392)).then(function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),o(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ie,null))),se()},57:function(e,t,r){e.exports=r(388)},66:function(e,t,r){},68:function(e,t,r){},70:function(e,t,r){},72:function(e,t,r){},74:function(e,t,r){}},[[57,3,2]]]);
//# sourceMappingURL=main.4658fcc9.chunk.js.map